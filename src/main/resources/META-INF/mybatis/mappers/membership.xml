<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="kr.co.helf.mapper.MembershipMapper">

	<select id="getMyMembershipById" parameterType="string" resultType="myMembership">
		select my_membership_no					as no,
			   my_membership_startdate			as startDate,
			   my_membership_enddate			as endDate,
			   my_membership_remainder_cnt		as remainderCnt,
			   my_membership_state				as state,
			   user_id							as "user.id",
			   period_no						as "period.no",
			   membership_no					as "membership.no"
		from helf_my_membership
		where user_id = #{value}
		and my_membership_state not in '사용불가'
	</select>

</mapper>