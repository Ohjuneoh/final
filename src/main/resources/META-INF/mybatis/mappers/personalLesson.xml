<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="kr.co.helf.mapper.PersonalLessonMapper">

	<select id="getCareerByTrainerNo" parameterType="int" resultType="Career">
		select
			career_no,
			career_name,
			career_start_date,
			career_end_date,
			trainer_no
		from helf_trainer_career
		where
			trainer_no = #{value}
		order by
			career_start_date;
	</select>
	<!-- User 테이블에서 트레이너 번호로 전체 트레이너 찾기  -->
	<select id="getUserByTrainerNo" parameterType="int" resultType="User">
				select
			user_id					as id,
			user_email				as email,
			user_name				as name,
			user_tel				as tel,
			user_encrypted_password as encryptedPassword,
			user_gender				as gender,
			user_status				as status,
			user_mobile_carrier		as mobileCarrier,
			user_create_date		as createDate,
			user_update_date		as updateDate,
			user_point				as point,
			rank_no					as "rank.no",
			user_type				as type
			
		from
			helf_users
		where 
			trainer_no = #{value}
	</select>

	<select id="getAllTrainersWithCareer" resultType="Trainer">
		select
		    a.user_name as "user.name",
			b.trainer_file as "trainer.file",
			c.career_name as "career_name"
		from
		    helf_users a, helf_trainers b, helf_trainer_career c
		where
			a.user_id = b.user_id
			and c.trainer_no = b.trainer_no
	</select>
</mapper>
